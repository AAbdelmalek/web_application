<!DOCTYPE html>
<html lang="en">
<!-- To Do
- Artist info in header, not table -- OK
- Published Date format -- OK
- Load Bar progress -- get click search to work -- OK
- Exit proceedure for large scrapes -- OK -- timeout
- Make scrape date pretty -- OK
- Favicon -- OK
- Load "this may take a while" -- OK
- Get artist image -- OK
- Hit enter and Search bug -- OK 
- # of videos bug -- OK
- # of Scraped Videos -- OK
- logo hyperlink bug -- OK
- analytics button resize -- OK
- Block redesign:
        have an unknown card that populates with search,
        then have others displayed from previous scrapes
- sortable table -- 
- Terminate if page is refreshed/closed/stopped --
- Regression (plotly) --
- Export raw data file -- 
- Fix table pretty -- 
- Database SQL String issue -- 
- Fix Analytics Button generating another scrape -- OK
- JSON data is available upon search screen returning (want just analytics page)
- Analytics page 
        - Artist info
        - Return to search results/home screen
        - Regression
        - Income Estimate
        - Raw Data
- Fix bug where scrape is terminated -- ??
- Instagram NavBar -- 
- Redirect back to home page after a search -- Not neccessary
- Table for IP addresses and site visited -- 
- Integer to commas on cards -- OK
- Last retrieved, make this a hyperlink/button that goes to a modal
asking to pull latest data - implementation - add to existing data or do full scrape?
- Analytics - avg likes/duration/views/days between posts/ rolling averages/etc.
- Infinite scroll -- 
 -->
 <head>
     <meta charset="utf-8" />
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <title>Youtube DS</title>
     <meta name="viewport" content="width=device-width, initial-scale=1">
     <link rel="stylesheet" type="text/css" media="screen" href="{{ url_for('static', filename='style.css') }}" />
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
     <script src="https://d3js.org/d3.v5.min.js"></script>
     <link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}" />
 </head>
 <div id="bg">
 
     <body>
                <div class="container-fluid">
                <!-- Nav Bar -->

                        <nav class="navbar justify-content-between fixed-top">
        
                                <div class="col-5 text-left">
                                        <div class="navbar-brand">
        
                                                <a href="/" class="link_color"><img class="pic" src="{{ url_for('static', filename='favicon.ico') }}" height="25" alt="Youtube DS"></a>
        
                                                <span class="header"><a class="link_color" href="/">YouTube </a></span>
                                                <span class="header2"><a class="link_color" onmouseover="logo()" onmouseout="logo()" id="DS" href="/">DS</a></span>
                                        </div>
        
                                </div>
        
                                <!-- Load Bar -->
        
                                <div class="col-4">
                                        <div class="input-group">
                                                <input id="button" type="text" class="form-control" placeholder="Content Creator">
                                                <span class="input-group-btn">
                                                        <a onclick="load_bar()" class="btn button btn-danger" href="#" role="button" id="loader_search">Search</a>
                                                </span>
                                        </div>
        
                                </div>
                        
                                                <!-- Progress Warning -->
                                                <!-- <div class="col-3">
                                        <div class="center-block"> -->
                                                <!-- <div class="alert alert-info" role="alert" id="loading">
                                                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                                        <span class="sr-only">Error:</span>
                                                        Getting data...this will take a moment...
                                        </div> -->
                                                <!-- </div>
                                        </div> -->
                        
                                                <!-- <div class="col-1 img-responsive">
                                        <img id = "info" src="{{ url_for('static', filename='inof.png') }}" height="30px">
                                        </div> -->
                
                        </nav>
 

                </div>
                        <br>
                        <br>
                        <br>
         <!-- Load Bar -->
                <div id="load-bar" class="progress">
                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
                </div>
                        <br>
         <!-- Load Alert -->
 
         <!-- <div class="row">
         <div class="col">
                 <div class="alert alert-info" role="alert" id="loading">
                         <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                         <span class="sr-only">Error:</span>
                         Getting data...this will take a moment...
                 </div>
         </div>
         </div> -->
         <!-- <div id=infinite_scroll> -->
             <!-- Deck 1 -->
             <div class="container-fluid">
                        <div class="row">
                                <div class="col-7 mx-auto">
 
                                        <!-- Card 1 -->
                                        <div class="card-deck">
                                        <div class="card">
                                                <img class="card-img-top" src="{{ url_for('static', filename='profile.jpg') }}" alt="Card image cap">
                                                <div class="card-body">
                                                <h5 class="card-title">Content Creator</h5>
                                                <p class="card-text">
                                                        <h6 class="h6-font">Videos</h6>
                                                        <h6 class="h6-font">Subscribers</h6>
                                                        <h6 class="h6-font">All-Time Views</h6>
                                                        <h6 class="h6-font">Joined</h6>
                                                </p>
                                                <div class="text-center">
                                                        <a href="#" class="btn btn-sm btn-primary">Shuffle</a>
                                                </div>
                                                </div>
                                                <div class="card-footer text-center">
                                                <small class="text-muted">Last retrieved</small>
                                                </div>
                                        </div>
                
                                        <!-- Card 2 -->
                                        <div class="card">
                                                <img class="card-img-top" src="{{artist_image}}" alt="Card image cap">
                                                <div class="card-body">
                                                <h5 class="card-title">{{artist_name}}</h5>
                                                <p class="card-text">
                                                        <h6 class="h6-font">{{total_videos}}</h6>
                                                        <h6 class="h6-font">{{subscribers}}</h6>
                                                        <h6 class="h6-font">{{total_views}}</h6>
                                                        <h6 class="h6-font">{{joined}}</h6>
                                                </p>
                                                <div class="text-center">
                                                        <a href="{{analytics_base_url}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                </div>
                                                </div>
                                                <div class="card-footer text-center">
                                                <small class="text-muted">Last retrieved <br> {{cache}}</small>
                                                </div>
                                        </div>
                
                                        <!-- Card 3 -->
                                        <div class="card">
                                                <img class="card-img-top" src="{{artist_image_1}}" alt="Card image cap">
                                                <div class="card-body">
                                                <h5 class="card-title">{{artist_name_1}}</h5>
                                                <p class="card-text">
                                                        <h6 class="h6-font">{{total_videos_1}}</h6>
                                                        <h6 class="h6-font">{{subscribers_1}}</h6>
                                                        <h6 class="h6-font">{{total_views_1}}</h6>
                                                        <h6 class="h6-font">{{joined_1}}</h6>
                                                </p>
                                                <div class="text-center">
                                                        <a href="{{analytics_base_url_1}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                </div>
                                                </div>
                                                <div class="card-footer text-center">
                                                <small class="text-muted">Last retrieved <br> {{cache_1}}</small>
                                                </div>
                                        </div>
                                        
                                        <!-- Card 4 -->
                                        <div class="card">
                                                <img class="card-img-top" src="{{artist_image_2}}" alt="Card image cap">
                                                <div class="card-body">
                                                <h5 class="card-title">{{artist_name_2}}</h5>
                                                <p class="card-text">
                                                        <h6 class="h6-font">{{total_videos_2}}</h6>
                                                        <h6 class="h6-font">{{subscribers_2}}</h6>
                                                        <h6 class="h6-font">{{total_views_2}}</h6>
                                                        <h6 class="h6-font">{{joined_2}}</h6>
                                                </p>
                                                <div class="text-center">
                                                        <a href="{{analytics_base_url_2}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                </div>
                                                </div>
                                                <div class="card-footer text-center">
                                                <small class="text-muted">Last retrieved <br> {{cache_2}}</small>
                                                </div>
                                        </div>
 
                                </div>
                        </div>
                </div>
 
                     <!-- Deck 2 -->
                     <div id="deck-2">
                         <div class="container-fluid">
                             <br>
                             <br>
 
                             <div class="row">
                                 <div class="col-7 mx-auto">
 
                                     <!-- Card 1 -->
                                     <div class="card-deck">
                                         <div class="card">
                                             <img class="card-img-top" src="{{artist_image_3}}" alt="Card image cap">
                                             <div class="card-body">
                                                 <h5 class="card-title">{{artist_name_3}}</h5>
                                                 <p class="card-text">
                                                     <h6 class="h6-font">{{total_videos_3}}</h6>
                                                     <h6 class="h6-font">{{subscribers_3}}</h6>
                                                     <h6 class="h6-font">{{total_views_3}}</h6>
                                                     <h6 class="h6-font">{{joined_3}}</h6>
                                                 </p>
                                                 <div class="text-center">
                                                     <a href="{{analytics_base_url_3}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                 </div>
                                             </div>
                                             <div class="card-footer text-center">
                                                 <small class="text-muted">Last retrieved <br> {{cache_3}}</small>
                                             </div>
                                         </div>
 
                                         <!-- Card 2 -->
                                         <div class="card">
                                             <img class="card-img-top" src="{{artist_image_4}}" alt="Card image cap">
                                             <div class="card-body">
                                                 <h5 class="card-title">{{artist_name_4}}</h5>
                                                 <p class="card-text">
                                                     <h6 class="h6-font">{{total_videos_4}}</h6>
                                                     <h6 class="h6-font">{{subscribers_4}}</h6>
                                                     <h6 class="h6-font">{{total_views_4}}</h6>
                                                     <h6 class="h6-font">{{joined_4}}</h6>
                                                 </p>
                                                 <div class="text-center">
                                                     <a href="{{analytics_base_url_4}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                 </div>
                                             </div>
                                             <div class="card-footer text-center">
                                                 <small class="text-muted">Last retrieved <br> {{cache_4}}</small>
                                             </div>
                                         </div>
 
                                         <!-- Card 3 -->
                                         <div class="card">
                                             <img class="card-img-top" src="{{artist_image_5}}" alt="Card image cap">
                                             <div class="card-body">
                                                 <h5 class="card-title">{{artist_name_5}}</h5>
                                                 <p class="card-text">
                                                     <h6 class="h6-font">{{total_videos_5}}</h6>
                                                     <h6 class="h6-font">{{subscribers_5}}</h6>
                                                     <h6 class="h6-font">{{total_views_5}}</h6>
                                                     <h6 class="h6-font">{{joined_5}}</h6>
                                                 </p>
                                                 <div class="text-center">
                                                     <a href="{{analytics_base_url_5}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                 </div>
                                             </div>
                                             <div class="card-footer text-center">
                                                 <small class="text-muted">Last retrieved <br> {{cache_5}}</small>
                                             </div>
                                         </div>
                                         <!-- Card 4 -->
                                         <div class="card">
                                             <img class="card-img-top" src="{{artist_image_6}}" alt="Card image cap">
                                             <div class="card-body">
                                                 <h5 class="card-title">{{artist_name_6}}</h5>
                                                 <p class="card-text">
                                                     <h6 class="h6-font">{{total_videos_6}}</h6>
                                                     <h6 class="h6-font">{{subscribers_6}}</h6>
                                                     <h6 class="h6-font">{{total_views_6}}</h6>
                                                     <h6 class="h6-font">{{joined_6}}</h6>
                                                 </p>
                                                 <div class="text-center">
                                                     <a href="{{analytics_base_url_6}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                 </div>
                                             </div>
                                             <div class="card-footer text-center">
                                                 <small class="text-muted">Last retrieved <br> {{cache_2}}</small>
                                             </div>
                                         </div>
 
                                     </div>
                                 </div>
                             </div>
                         </div>
                     </div>
 
                     <!-- Deck 3 -->
                     <div id="deck-3">
                         <div class="container-fluid">
                             <br>
                             <br>
 
                             <div class="row">
                                 <div class="col-7 mx-auto">
 
                                     <!-- Card 1 -->
                                     <div class="card-deck">
                                         <div class="card">
                                             <img class="card-img-top" src="{{artist_image_7}}" alt="Card image cap">
                                             <div class="card-body">
                                                 <h5 class="card-title">{{artist_name_7}}</h5>
                                                 <p class="card-text">
                                                     <h6 class="h6-font">{{total_videos_7}}</h6>
                                                     <h6 class="h6-font">{{subscribers_7}}</h6>
                                                     <h6 class="h6-font">{{total_views_7}}</h6>
                                                     <h6 class="h6-font">{{joined_7}}</h6>
                                                 </p>
                                                 <div class="text-center">
                                                     <a href="{{analytics_base_url_7}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                 </div>
                                             </div>
                                             <div class="card-footer text-center">
                                                 <small class="text-muted">Last retrieved <br> {{cache_7}}</small>
                                             </div>
                                         </div>
 
                                         <!-- Card 2 -->
                                         <div class="card">
                                             <img class="card-img-top" src="{{artist_image_8}}" alt="Card image cap">
                                             <div class="card-body">
                                                 <h5 class="card-title">{{artist_name_8}}</h5>
                                                 <p class="card-text">
                                                     <h6 class="h6-font">{{total_videos_8}}</h6>
                                                     <h6 class="h6-font">{{subscribers_8}}</h6>
                                                     <h6 class="h6-font">{{total_views_8}}</h6>
                                                     <h6 class="h6-font">{{joined_8}}</h6>
                                                 </p>
                                                 <div class="text-center">
                                                     <a href="{{analytics_base_url_8}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                 </div>
                                             </div>
                                             <div class="card-footer text-center">
                                                 <small class="text-muted">Last retrieved <br> {{cache_8}}</small>
                                             </div>
                                         </div>
 
                                         <!-- Card 3 -->
                                         <div class="card">
                                             <img class="card-img-top" src="{{artist_image_9}}" alt="Card image cap">
                                             <div class="card-body">
                                                 <h5 class="card-title">{{artist_name_9}}</h5>
                                                 <p class="card-text">
                                                     <h6 class="h6-font">{{total_videos_9}}</h6>
                                                     <h6 class="h6-font">{{subscribers_9}}</h6>
                                                     <h6 class="h6-font">{{total_views_9}}</h6>
                                                     <h6 class="h6-font">{{joined_9}}</h6>
                                                 </p>
                                                 <div class="text-center">
                                                     <a href="{{analytics_base_url_9}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                 </div>
                                             </div>
                                             <div class="card-footer text-center">
                                                 <small class="text-muted">Last retrieved <br> {{cache_9}}</small>
                                             </div>
                                         </div>
                                         <!-- Card 4 -->
                                         <div class="card">
                                             <img class="card-img-top" src="{{artist_image_10}}" alt="Card image cap">
                                             <div class="card-body">
                                                 <h5 class="card-title">{{artist_name_10}}</h5>
                                                 <p class="card-text">
                                                     <h6 class="h6-font">{{total_videos_10}}</h6>
                                                     <h6 class="h6-font">{{subscribers_10}}</h6>
                                                     <h6 class="h6-font">{{total_views_10}}</h6>
                                                     <h6 class="h6-font">{{joined_10}}</h6>
                                                 </p>
                                                 <div class="text-center">
                                                     <a href="{{analytics_base_url_10}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                 </div>
                                             </div>
                                             <div class="card-footer text-center">
                                                 <small class="text-muted">Last retrieved <br> {{cache_10}}</small>
                                             </div>
                                         </div>
 
                                     </div>
                                 </div>
 
                                 <!-- Deck 4 -->
                                 <div id="deck-4">
                                     <div class="container-fluid">
                                         <br>
                                         <br>
 
                                         <div class="row">
                                             <div class="col-7 mx-auto">
 
                                                 <!-- Card 1 -->
                                                 <div class="card-deck">
                                                     <div class="card">
                                                         <img class="card-img-top" src="{{ url_for('static', filename='profile.jpg') }}" alt="Card image cap">
                                                         <div class="card-body">
                                                             <h5 class="card-title">Content Creator</h5>
                                                             <p class="card-text">
                                                                 <h6 class="h6-font">Videos</h6>
                                                                 <h6 class="h6-font">Subscribers</h6>
                                                                 <h6 class="h6-font">All-Time Views</h6>
                                                                 <h6 class="h6-font">Joined</h6>
                                                             </p>
                                                             <div class="text-center">
                                                                 <a href="#" class="btn btn-sm btn-primary">Shuffle</a>
                                                             </div>
                                                         </div>
                                                         <div class="card-footer text-center">
                                                             <small class="text-muted">Last retrieved</small>
                                                         </div>
                                                     </div>
 
                                                     <!-- Card 2 -->
                                                     <div class="card">
                                                         <img class="card-img-top" src="{{artist_image}}" alt="Card image cap">
                                                         <div class="card-body">
                                                             <h5 class="card-title">{{artist_name}}</h5>
                                                             <p class="card-text">
                                                                 <h6 class="h6-font">{{total_videos}}</h6>
                                                                 <h6 class="h6-font">{{subscribers}}</h6>
                                                                 <h6 class="h6-font">{{total_views}}</h6>
                                                                 <h6 class="h6-font">{{joined}}</h6>
                                                             </p>
                                                             <div class="text-center">
                                                                 <a href="{{analytics_base_url}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                             </div>
                                                         </div>
                                                         <div class="card-footer text-center">
                                                             <small class="text-muted">Last retrieved <br> {{cache}}</small>
                                                         </div>
                                                     </div>
 
                                                     <!--Card 3-->
                                                     <div class="card">
                                                         <img class="card-img-top" src="{{artist_image_1}}" alt="Card image cap">
                                                         <div class="card-body">
                                                             <h5 class="card-title">{{artist_name_1}}</h5>
                                                             <p class="card-text">
                                                                 <h6 class="h6-font">{{total_videos_1}}</h6>
                                                                 <h6 class="h6-font">{{subscribers_1}}</h6>
                                                                 <h6 class="h6-font">{{total_views_1}}</h6>
                                                                 <h6 class="h6-font">{{joined_1}}</h6>
                                                             </p>
                                                             <div class="text-center">
                                                                 <a href="{{analytics_base_url_1}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                             </div>
                                                         </div>
                                                         <div class="card-footer text-center">
                                                             <small class="text-muted">Last retrieved <br> {{cache_1}}</small>
                                                         </div>
                                                     </div>
                                                     <!-- Card 4 -->
                                                     <div class="card">
                                                         <img class="card-img-top" src="{{artist_image_2}}" alt="Card image cap">
                                                         <div class="card-body">
                                                             <h5 class="card-title">{{artist_name_2}}</h5>
                                                             <p class="card-text">
                                                                 <h6 class="h6-font">{{total_videos_2}}</h6>
                                                                 <h6 class="h6-font">{{subscribers_2}}</h6>
                                                                 <h6 class="h6-font">{{total_views_2}}</h6>
                                                                 <h6 class="h6-font">{{joined_2}}</h6>
                                                             </p>
                                                             <div class="text-center">
                                                                 <a href="{{analytics_base_url_2}}" class="btn btn-sm btn-primary analytics_load_button" onclick="analytics_load()">Analytics</a>
                                                             </div>
                                                         </div>
                                                         <div class="card-footer text-center">
                                                             <small class="text-muted">Last retrieved <br> {{cache_2}}</small>
                                                         </div>
                                                     </div>
 
                                                 </div>
                                             </div>
                                         </div>
                                         <!-- </div> -->
 
                                         <div id="deck-5">
 
                                         </div>
 
                                     </div>
 
                                 </div>
                             </div>
                         </div>
                     </div>
                     <br>
                     <br>
                     <div class="container-fluid">
                         <div class="row">
                             <div class="col text-center">
                                 <button type="button" onclick="more_decks()" class="btn btn-sm btn-default text-center">Load more</button>
                             </div>
                         </div>
                     </div>
                     <br>
                     <br>
     </body>
     </div>
     <script type="text/javascript" src="{{ url_for('static', filename='app.js') }}"></script>
 
 </html>
